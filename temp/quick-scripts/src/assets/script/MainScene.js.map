{"version":3,"sources":["assets/script/MainScene.js"],"names":["TAG","CurLevel","MaxLevel","LevelDataList","title","a1","a2","a3","a4","answerIndex","redTex","cc","loader","loadRes","err","tex","greenTex","yellowTex","Class","Component","properties","mask","type","Mask","tooltip","moneyLabel","Label","progressBar1","ProgressBar","hintSprite","Sprite","passLabel","progressBar2","progressBar2Front","progressBar2After","nextBtn","Button","titleSprite","titleLabel","answerBtn1","btnBackground1","btn1Label","answerBtn2","btnBackground2","btn2Label","answerBtn3","btnBackground3","btn3Label","answerBtn4","btnBackground4","btn4Label","scrapteRadiusX","Float","scrapteRadiusY","scrapteArea","scrapeEvents","EventHandler","onLoad","self","node","on","onNextBtn","onAnswerBtn1","onAnswerBtn2","onAnswerBtn3","onAnswerBtn4","Node","EventType","TOUCH_START","onTouchBegin","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","TOUCH_CANCEL","onTouchCancel","getInitNum","pixelNum","achieveNum","initPixel","scrapeNode","children","log","length","x","width","y","height","console","widthWide","heightWide","zx","zy","dx","dy","dy1","pixelPoint","rx","ry","p","isTouch","push","updateData","levelData","string","active","spriteFrame","SpriteFrame","graphics","_graphics","clear","start","progress","endScape","off","onDestroy","handleRight","handleError","index","event","comFunc","checkScrape","getPos","e","point","touch","getLocation","convertToNodeSpaceAR","checkPixelPoint","_addCircle","i","Math","abs","color","lineWidth","fillColor","ellipse","fill","achieveScrape","runAction","fadeOut","scheduleOnce","emitEvents","Event","EventCustom","bind"],"mappings":"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","sourceRoot":"/","sourcesContent":["const TAG = \"MainScene\";\nvar CurLevel = 1;\nconst MaxLevel = 100;\nvar LevelDataList = [\n    {\n        title: \"这是什么物品\",\n        a1: \"车子\",\n        a2: \"房子\",\n        a3: \"椅子\",\n        a4: \"瓶子\",\n    },\n    {\n        title: \"图中是什么图形\",\n        a1: \"圆形\",\n        a2: \"矩形\",\n        a3: \"正方形\",\n        a4: \"椭圆形\",\n    },\n];\nvar answerIndex = 1;\nlet redTex = null;\ncc.loader.loadRes(\"image/red\", function(err, tex){\n    if (err == null){\n        redTex = tex;\n    }\n});\nlet greenTex = null;\ncc.loader.loadRes(\"image/green\", function(err, tex){\n    if (err == null){\n        greenTex = tex;\n    }\n});\nlet yellowTex = null;\ncc.loader.loadRes(\"image/yellow\", function(err, tex){\n    if (err == null){\n        yellowTex = tex;\n    }\n});\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        mask: {\n            default: null,\n            type: cc.Mask,\n            tooltip: \"需要刮开的\",\n        },\n        moneyLabel:{\n            default: null,\n            type: cc.Label,\n        },\n        progressBar1: {\n            default: null,\n            type: cc.ProgressBar,\n        },\n        hintSprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n        passLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        progressBar2: {\n            default: null,\n            type: cc.ProgressBar,\n        },\n        progressBar2Front: {\n            default: null,\n            type: cc.Sprite,\n        },\n        progressBar2After: {\n            default: null,\n            type: cc.Sprite,\n        },\n        nextBtn: {\n            default: null,\n            type: cc.Button,\n        },    \n        titleSprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n        titleLabel: {\n            default: null,\n            type: cc.Label,\n        }, \n        answerBtn1: {\n            default: null,\n            type: cc.Button,\n        },\n        btnBackground1:{\n            default: null,\n            type: cc.Sprite,\n        },\n        btn1Label: {\n            default: null,\n            type: cc.Label,\n        },\n        answerBtn2: {\n            default: null,\n            type: cc.Button,\n        },\n        btnBackground2:{\n            default: null,\n            type: cc.Sprite,\n        },\n        btn2Label: {\n            default: null,\n            type: cc.Label,\n        },\n        answerBtn3: {\n            default: null,\n            type: cc.Button,\n        },\n        btnBackground3:{\n            default: null,\n            type: cc.Sprite,\n        },\n        btn3Label: {\n            default: null,\n            type: cc.Label,\n        },\n        answerBtn4: {\n            default: null,\n            type: cc.Button,\n        },\n        btnBackground4:{\n            default: null,\n            type: cc.Sprite,\n        },\n        btn4Label: {\n            default: null,\n            type: cc.Label,\n        },\n        scrapteRadiusX: {\n            default: 20.0,\n            type: cc.Float,\n            tooltip: \"绘制点图形的x轴半径\"\n        },\n        scrapteRadiusY: {\n            default: 22.0,\n            type: cc.Float,\n            tooltip: \"绘制点图形的y轴半径\"\n        },\n        scrapteArea:{\n            default: 0.5,\n            type: cc.Float,\n            tooltip: \"需要刮开的图层面积的多少\"\n        },\n        scrapeEvents:{\n            default: [],\n            type: [cc.Component.EventHandler],\n            tooltip: \"擦除完成出发事件\"\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        var self =  this;\n        this.nextBtn.node.on(\"click\", this.onNextBtn, this);\n        this.answerBtn1.node.on(\"click\", this.onAnswerBtn1, this);\n        this.answerBtn2.node.on(\"click\", this.onAnswerBtn2, this);\n        this.answerBtn3.node.on(\"click\", this.onAnswerBtn3, this);\n        this.answerBtn4.node.on(\"click\", this.onAnswerBtn4, this);\n\n        //this.getInitNum();\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchBegin, this);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchCancel, this);\n    },\n    getInitNum(){\n        this.pixelNum = 0;\n        this.achieveNum = this.scrapteArea * this.initPixel();\n    },\n    initPixel(){\n        this.scrapeNode = this.mask.node.children[0];\n        cc.log(\"this.scrapeNode \", this.mask.node.children.length);\n        var x = this.scrapeNode.width, y = this.scrapeNode.height;\n        console.log(\"x=\", x, \"y=\", y);\n        this.node.width = x;\n        this.node.height = y;\n        this.widthWide= x/2 + 20;\n        this.heightWide = x/2 + 20;\n        var zx = x/2, zy=y/2, dx = -zx, dy = -zy, dy1 = dy;\n        var pixelPoint = [];\n        var rx = this.scrapteRadiusX*2;\n        var ry = this.scrapteRadiusY*2;\n\n        for(; dx <= zx; dx += rx)\n        {\n            for(dy = dy1; dy <= zy; dy += ry)\n            {\n                var p = [dx, dy];\n                p.isTouch = true;\n                pixelPoint.push(p);\n            }\n        }\n        this.pixelPoint = pixelPoint;\n        return pixelPoint.length;\n    },\n    updateData()\n    {\n        var levelData = LevelDataList[CurLevel-1];\n        this.btn1Label.string = levelData.a1;\n        this.btn2Label.string = levelData.a2;\n        this.btn3Label.string = levelData.a3;\n        this.btn4Label.string = levelData.a4;\n        this.titleLabel.string = levelData.title;\n\n        this.titleSprite.node.active = true;\n        this.nextBtn.node.active = false;\n        this.btnBackground1.spriteFrame = new cc.SpriteFrame(yellowTex);\n        this.btnBackground2.spriteFrame = new cc.SpriteFrame(yellowTex);\n        this.btnBackground3.spriteFrame = new cc.SpriteFrame(yellowTex);\n        this.btnBackground4.spriteFrame = new cc.SpriteFrame(yellowTex);\n        this.getInitNum();\n        var graphics = this.mask._graphics;\n        graphics.clear();\n    },\n    start () {\n        this.moneyLabel.string = 0;\n        this.passLabel.string = \"第\" + CurLevel + \"关\";\n        this.btn1Label.string = \"111111111\";\n        this.btn2Label.string = \"222222222\";\n        this.btn3Label.string = \"333333333\";\n        this.btn4Label.string = \"444444444\";\n        this.progressBar1.progress = 0;\n        this.progressBar2.progress = 1;\n        this.nextBtn.node.active = false;\n        // cc.loader.loadRes(\"config/level\", function(err, data){\n        //     console.log(err, data)\n        //     if (err == null){\n        //         levelData = data.json;\n        //     }\n        // });\n        this.updateData();\n    },\n    endScape()\n    {\n        this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchBegin, this);\n        this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\n        this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);\n        this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchCancel, this);\n    },\n    // update (dt) {},\n    onDestroy: function()\n    {\n        this.endScape();\n    },\n    onNextBtn: function(){\n        console.log(\"onNextBtn \", CurLevel, LevelDataList.length);\n        CurLevel++;\n        if (CurLevel > LevelDataList.length)\n        {\n            console.log(\"题目做完了\");\n            return;\n        }\n        this.updateData();\n    },\n    onAnswerBtn1: function(){\n        cc.log(\"onAnswerBtn1\");\n        if (answerIndex == 1)\n        {\n            this.handleRight(1);\n        }\n        else\n        {\n            this.handleError(1);\n        }\n    },\n    onAnswerBtn2: function(){\n        cc.log(\"onAnswerBtn2\");\n        if (answerIndex == 2)\n        {\n            this.handleRight(2);\n        }\n        else\n        {\n            this.handleError(2);\n        }\n    },\n    onAnswerBtn3: function(){\n        cc.log(\"onAnswerBtn3\");\n        if (answerIndex == 3)\n        {\n            this.handleRight(3);\n        }\n        else\n        {\n            this.handleError(3);\n        }\n    },\n    onAnswerBtn4: function(){\n        cc.log(\"onAnswerBtn4\");\n        if (answerIndex == 4)\n        {\n            this.handleRight(4);\n        }\n        else\n        {\n            this.handleError(4);\n        }\n    },\n    handleRight(index){\n        this.progressBar1.progress += 0.1;\n        this.nextBtn.node.active = true;\n        this.titleSprite.node.active = false;\n        if (1 == index){\n            this.btnBackground1.spriteFrame = new cc.SpriteFrame(greenTex);\n        }else if(2 == index){\n            this.btnBackground2.spriteFrame = new cc.SpriteFrame(greenTex);\n        }else if(3 == index){\n            this.btnBackground3.spriteFrame = new cc.SpriteFrame(greenTex);\n        }else if(4 == index){\n            this.btnBackground4.spriteFrame = new cc.SpriteFrame(greenTex);\n        }\n    },\n    handleError(index){\n        this.nextBtn.node.active = true;\n        this.titleSprite.node.active = false;\n        if (1 == index){\n            this.btnBackground1.spriteFrame = new cc.SpriteFrame(redTex);\n        }else if(2 == index){\n            this.btnBackground2.spriteFrame = new cc.SpriteFrame(redTex);\n        }else if(3 == index){\n            this.btnBackground3.spriteFrame = new cc.SpriteFrame(redTex);\n        }else if(4 == index){\n            this.btnBackground4.spriteFrame = new cc.SpriteFrame(redTex);\n        }\n    },\n    onTouchBegin: function(event){\n        cc.log(\"touch begin\");\n        //this.comFunc(event);\n    },\n    onTouchMove: function(event){\n        cc.log(\"touch move\");\n        this.comFunc(event);\n    },\n    onTouchEnd: function(event){\n        cc.log(\"touch end\");\n        this.checkScrape();\n        this.comFunc(event);\n    },\n    onTouchCancel: function(event){\n        cc.log(\"touch cancel\");\n        this.checkScrape();\n    },\n    checkScrape(){\n        cc.log(\"目标数是：\" + this.achieveNum);\n        cc.log(\"现在已经刮开\"+this.pixelNum);\n        if (this.achieveNum <= this.pixelNum){\n            cc.log(\"已经刮完图层\");\n            //this.achieveScrape();\n        }\n        console.log(\"使用的比例：\", this.pixelNum/this.achieveNum);\n        this.progressBar2.progress = this.progressBar2.progress - this.pixelNum/this.achieveNum;\n        this.progressBar2After.node.active = false;\n        cc.log(\"this.scrapteRadiusX = \" + this.scrapteRadiusX);\n        cc.log(\"this.scrapteRadiusY = \" + this.scrapteRadiusY);\n    },\n    getPos(e){\n        var point = e.touch.getLocation();\n        point = this.node.convertToNodeSpaceAR(point);\n        return point;\n    },\n    comFunc(event)\n    {\n        var point = this.getPos(event);\n        this.checkPixelPoint(point);\n        this._addCircle(point);\n    },\n    checkPixelPoint(point){\n        var pixelPoint = this.pixelPoint;\n        var x, y;\n        for (var i in pixelPoint){\n            x = Math.abs(point.x - pixelPoint[i][0]);\n            y = Math.abs(point.y - pixelPoint[i][1]);\n            if (x <= this.scrapteRadiusX && y <= this.scrapteRadiusY && pixelPoint[i].isTouch)\n            {\n                pixelPoint[i].isTouch = false;\n                this.pixelNum++;\n                return;\n            }\n        }\n    },\n    _addCircle(point){\n        var graphics = this.mask._graphics;\n        var color = cc.color(0, 0, 0, 255);\n        graphics.lineWidth = 2;\n        graphics.fillColor = color;\n        graphics.ellipse(point.x, point.y, this.scrapteRadiusX, this.scrapteRadiusY);\n        graphics.fill();\n    },\n    achieveScrape(){\n        this.endScape();\n        this.node.runAction(cc.fadeOut(0.5));\n        this.scheduleOnce((()=>{\n            cc.Component.EventHandler.emitEvents(this.scrapeEvents, new cc.Event.EventCustom(\"scrapeEvents\"));\n        }).bind(this), 0.6);\n    },\n});\n"]}